"use strict";!function(factory){"object"==typeof module&&module.exports?module.exports=factory:factory(Highcharts)}(function(Highcharts){!function(H,derivedSeriesMixin){var each=H.each,correctFloat=H.correctFloat;(0,H.seriesType)("pareto","line",{zIndex:3},(0,H.merge)(derivedSeriesMixin,{setDerivedData:function(){if(1<this.baseSeries.yData.length){var xValues=this.baseSeries.xData,yValues=this.baseSeries.yData,sum=this.sumPointsPercents(yValues,xValues,null,!0);this.setData(this.sumPointsPercents(yValues,xValues,sum,!1),!1)}},sumPointsPercents:function(yValues,xValues,sum,isSum){var percentPoint,sumY=0,sumPercent=0,percentPoints=[];return each(yValues,function(point,i){null!==point&&(isSum?sumY+=point:(percentPoint=point/sum*100,percentPoints.push([xValues[i],correctFloat(sumPercent+percentPoint)]),sumPercent+=percentPoint))}),isSum?sumY:percentPoints}}))}(Highcharts,function(H){var each=H.each,Series=H.Series,addEvent=H.addEvent,fireEvent=H.fireEvent,wrap=H.wrap,derivedSeriesMixin={init:function(){Series.prototype.init.apply(this,arguments),this.initialised=!1,this.baseSeries=null,this.eventRemovers=[],this.addEvents()},setDerivedData:H.noop,setBaseSeries:function(){var chart=this.chart,baseSeriesOptions=this.options.baseSeries,baseSeries=baseSeriesOptions&&(chart.series[baseSeriesOptions]||chart.get(baseSeriesOptions));this.baseSeries=baseSeries||null},addEvents:function(){var chartSeriesLinked,derivedSeries=this;chartSeriesLinked=addEvent(this.chart,"seriesLinked",function(){derivedSeries.setBaseSeries(),derivedSeries.baseSeries&&!derivedSeries.initialised&&(derivedSeries.setDerivedData(),derivedSeries.addBaseSeriesEvents(),derivedSeries.initialised=!0)}),this.eventRemovers.push(chartSeriesLinked)},addBaseSeriesEvents:function(){var updatedDataRemover,destroyRemover,derivedSeries=this;updatedDataRemover=addEvent(derivedSeries.baseSeries,"updatedData",function(){derivedSeries.setDerivedData()}),destroyRemover=addEvent(derivedSeries.baseSeries,"destroy",function(){derivedSeries.baseSeries=null,derivedSeries.initialised=!1}),derivedSeries.eventRemovers.push(updatedDataRemover,destroyRemover)},destroy:function(){each(this.eventRemovers,function(remover){remover()}),Series.prototype.destroy.apply(this,arguments)}};return wrap(H.Chart.prototype,"linkSeries",function(p){p.call(this),fireEvent(this,"seriesLinked")}),derivedSeriesMixin}(Highcharts))});