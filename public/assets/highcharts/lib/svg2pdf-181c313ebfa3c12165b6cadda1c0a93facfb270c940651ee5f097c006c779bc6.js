!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).svg2pdf=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){"use strict";module.exports=require("./lib/svgpath")},{"./lib/svgpath":6}],2:[function(require,module){"use strict";function vector_angle(ux,uy,vx,vy){var sign=ux*vy-uy*vx<0?-1:1,div=(ux*vx+uy*vy)/(Math.sqrt(ux*ux+uy*uy)*Math.sqrt(ux*ux+uy*uy));return 1<div&&(div=1),div<-1&&(div=-1),sign*Math.acos(div)}function get_arc_center(x1,y1,x2,y2,fa,fs,rx,ry,sin_phi,cos_phi){var x1p=cos_phi*(x1-x2)/2+sin_phi*(y1-y2)/2,y1p=-sin_phi*(x1-x2)/2+cos_phi*(y1-y2)/2,rx_sq=rx*rx,ry_sq=ry*ry,x1p_sq=x1p*x1p,y1p_sq=y1p*y1p,radicant=rx_sq*ry_sq-rx_sq*y1p_sq-ry_sq*x1p_sq;radicant<0&&(radicant=0),radicant/=rx_sq*y1p_sq+ry_sq*x1p_sq;var cxp=(radicant=Math.sqrt(radicant)*(fa===fs?-1:1))*rx/ry*y1p,cyp=radicant*-ry/rx*x1p,cx=cos_phi*cxp-sin_phi*cyp+(x1+x2)/2,cy=sin_phi*cxp+cos_phi*cyp+(y1+y2)/2,v1x=(x1p-cxp)/rx,v1y=(y1p-cyp)/ry,v2x=(-x1p-cxp)/rx,v2y=(-y1p-cyp)/ry,theta1=vector_angle(1,0,v1x,v1y),delta_theta=vector_angle(v1x,v1y,v2x,v2y);return 0===fs&&0<delta_theta&&(delta_theta-=TAU),1===fs&&delta_theta<0&&(delta_theta+=TAU),[cx,cy,theta1,delta_theta]}function approximate_unit_arc(theta1,delta_theta){var alpha=4/3*Math.tan(delta_theta/4),x1=Math.cos(theta1),y1=Math.sin(theta1),x2=Math.cos(theta1+delta_theta),y2=Math.sin(theta1+delta_theta);return[x1,y1,x1-y1*alpha,y1+x1*alpha,x2+y2*alpha,y2-x2*alpha,x2,y2]}var TAU=2*Math.PI;module.exports=function a2c(x1,y1,x2,y2,fa,fs,rx,ry,phi){var sin_phi=Math.sin(phi*TAU/360),cos_phi=Math.cos(phi*TAU/360),x1p=cos_phi*(x1-x2)/2+sin_phi*(y1-y2)/2,y1p=-sin_phi*(x1-x2)/2+cos_phi*(y1-y2)/2;if(0===x1p&&0===y1p)return[];if(0===rx||0===ry)return[];rx=Math.abs(rx),ry=Math.abs(ry);var lambda=x1p*x1p/(rx*rx)+y1p*y1p/(ry*ry);1<lambda&&(rx*=Math.sqrt(lambda),ry*=Math.sqrt(lambda));var cc=get_arc_center(x1,y1,x2,y2,fa,fs,rx,ry,sin_phi,cos_phi),result=[],theta1=cc[2],delta_theta=cc[3],segments=Math.max(Math.ceil(Math.abs(delta_theta)/(TAU/4)),1);delta_theta/=segments;for(var i=0;i<segments;i++)result.push(approximate_unit_arc(theta1,delta_theta)),theta1+=delta_theta;return result.map(function(curve){for(var i=0;i<curve.length;i+=2){var x=curve[i+0],y=curve[i+1],xp=cos_phi*(x*=rx)-sin_phi*(y*=ry),yp=sin_phi*x+cos_phi*y;curve[i+0]=xp+cc[0],curve[i+1]=yp+cc[1]}return curve})}},{}],3:[function(require,module){"use strict";function Ellipse(rx,ry,ax){if(!(this instanceof Ellipse))return new Ellipse(rx,ry,ax);this.rx=rx,this.ry=ry,this.ax=ax}var epsilon=1e-10,torad=Math.PI/180;Ellipse.prototype.transform=function(m){var c=Math.cos(this.ax*torad),s=Math.sin(this.ax*torad),ma=[this.rx*(m[0]*c+m[2]*s),this.rx*(m[1]*c+m[3]*s),this.ry*(-m[0]*s+m[2]*c),this.ry*(-m[1]*s+m[3]*c)],J=ma[0]*ma[0]+ma[2]*ma[2],K=ma[1]*ma[1]+ma[3]*ma[3],D=((ma[0]-ma[3])*(ma[0]-ma[3])+(ma[2]+ma[1])*(ma[2]+ma[1]))*((ma[0]+ma[3])*(ma[0]+ma[3])+(ma[2]-ma[1])*(ma[2]-ma[1])),JK=(J+K)/2;if(D<epsilon*JK)return this.rx=this.ry=Math.sqrt(JK),this.ax=0,this;var L=ma[0]*ma[1]+ma[2]*ma[3],l1=JK+(D=Math.sqrt(D))/2,l2=JK-D/2;return this.ax=Math.abs(L)<epsilon&&Math.abs(l1-K)<epsilon?90:180*Math.atan(Math.abs(L)>Math.abs(l1-K)?(l1-J)/L:L/(l1-K))/Math.PI,0<=this.ax?(this.rx=Math.sqrt(l1),this.ry=Math.sqrt(l2)):(this.ax+=90,this.rx=Math.sqrt(l2),this.ry=Math.sqrt(l1)),this},Ellipse.prototype.isDegenerate=function(){return this.rx<epsilon*this.ry||this.ry<epsilon*this.rx},module.exports=Ellipse},{}],4:[function(require,module){"use strict";function combine(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]}function Matrix(){if(!(this instanceof Matrix))return new Matrix;this.queue=[],this.cache=null}Matrix.prototype.matrix=function(m){return 1===m[0]&&0===m[1]&&0===m[2]&&1===m[3]&&0===m[4]&&0===m[5]||(this.cache=null,this.queue.push(m)),this},Matrix.prototype.translate=function(tx,ty){return 0===tx&&0===ty||(this.cache=null,this.queue.push([1,0,0,1,tx,ty])),this},Matrix.prototype.scale=function(sx,sy){return 1===sx&&1===sy||(this.cache=null,this.queue.push([sx,0,0,sy,0,0])),this},Matrix.prototype.rotate=function(angle,rx,ry){var rad,cos,sin;return 0!==angle&&(this.translate(rx,ry),rad=angle*Math.PI/180,cos=Math.cos(rad),sin=Math.sin(rad),this.queue.push([cos,sin,-sin,cos,0,0]),this.cache=null,this.translate(-rx,-ry)),this},Matrix.prototype.skewX=function(angle){return 0!==angle&&(this.cache=null,this.queue.push([1,0,Math.tan(angle*Math.PI/180),1,0,0])),this},Matrix.prototype.skewY=function(angle){return 0!==angle&&(this.cache=null,this.queue.push([1,Math.tan(angle*Math.PI/180),0,1,0,0])),this},Matrix.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var i=1;i<this.queue.length;i++)this.cache=combine(this.cache,this.queue[i]);return this.cache},Matrix.prototype.calc=function(x,y,isRelative){var m;return this.queue.length?(this.cache||(this.cache=this.toArray()),[x*(m=this.cache)[0]+y*m[2]+(isRelative?0:m[4]),x*m[1]+y*m[3]+(isRelative?0:m[5])]):[x,y]},module.exports=Matrix},{}],5:[function(require,module){"use strict";function isSpace(ch){return 10===ch||13===ch||8232===ch||8233===ch||32===ch||9===ch||11===ch||12===ch||160===ch||5760<=ch&&0<=SPECIAL_SPACES.indexOf(ch)}function isCommand(code){switch(32|code){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function isDigit(code){return 48<=code&&code<=57}function isDigitStart(code){return 48<=code&&code<=57||43===code||45===code||46===code}function State(path){this.index=0,this.path=path,this.max=path.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function skipSpaces(state){for(;state.index<state.max&&isSpace(state.path.charCodeAt(state.index));)state.index++}function scanParam(state){var ch,start=state.index,index=start,max=state.max,zeroFirst=!1,hasCeiling=!1,hasDecimal=!1,hasDot=!1;if(max<=index)state.err="SvgPath: missed param (at pos "+index+")";else if(43!==(ch=state.path.charCodeAt(index))&&45!==ch||(ch=++index<max?state.path.charCodeAt(index):0),isDigit(ch)||46===ch){if(46!==ch){if(zeroFirst=48===ch,ch=++index<max?state.path.charCodeAt(index):0,zeroFirst&&index<max&&ch&&isDigit(ch))return void(state.err="SvgPath: numbers started with `0` such as `09` are ilegal (at pos "+start+")");for(;index<max&&isDigit(state.path.charCodeAt(index));)index++,hasCeiling=!0;ch=index<max?state.path.charCodeAt(index):0}if(46===ch){for(hasDot=!0,index++;isDigit(state.path.charCodeAt(index));)index++,hasDecimal=!0;ch=index<max?state.path.charCodeAt(index):0}if(101===ch||69===ch){if(hasDot&&!hasCeiling&&!hasDecimal)return void(state.err="SvgPath: invalid float exponent (at pos "+index+")");if(43!==(ch=++index<max?state.path.charCodeAt(index):0)&&45!==ch||index++,!(index<max&&isDigit(state.path.charCodeAt(index))))return void(state.err="SvgPath: invalid float exponent (at pos "+index+")");for(;index<max&&isDigit(state.path.charCodeAt(index));)index++}state.index=index,state.param=parseFloat(state.path.slice(start,index))+0}else state.err="SvgPath: param should start with 0..9 or `.` (at pos "+index+")"}function finalizeSegment(state){var cmd,cmdLC;cmdLC=(cmd=state.path[state.segmentStart]).toLowerCase();var params=state.data;if("m"===cmdLC&&2<params.length&&(state.result.push([cmd,params[0],params[1]]),params=params.slice(2),cmdLC="l",cmd="m"===cmd?"l":"L"),"r"===cmdLC)state.result.push([cmd].concat(params));else for(;params.length>=paramCounts[cmdLC]&&(state.result.push([cmd].concat(params.splice(0,paramCounts[cmdLC]))),paramCounts[cmdLC]););}function scanSegment(state){var comma_found,need_params,i,max=state.max;if(state.segmentStart=state.index,isCommand(state.path.charCodeAt(state.index)))if(need_params=paramCounts[state.path[state.index].toLowerCase()],state.index++,skipSpaces(state),state.data=[],need_params){for(comma_found=!1;;){for(i=need_params;0<i;i--){if(scanParam(state),state.err.length)return;state.data.push(state.param),skipSpaces(state),comma_found=!1,state.index<max&&44===state.path.charCodeAt(state.index)&&(state.index++,skipSpaces(state),comma_found=!0)}if(!comma_found){if(state.index>=state.max)break;if(!isDigitStart(state.path.charCodeAt(state.index)))break}}finalizeSegment(state)}else finalizeSegment(state);else state.err="SvgPath: bad command "+state.path[state.index]+" (at pos "+state.index+")"}var paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},SPECIAL_SPACES=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];module.exports=function pathParse(svgPath){var state=new State(svgPath),max=state.max;for(skipSpaces(state);state.index<max&&!state.err.length;)scanSegment(state);return state.err.length?state.result=[]:state.result.length&&("mM".indexOf(state.result[0][0])<0?(state.err="SvgPath: string should start with `M` or `m`",state.result=[]):state.result[0][0]="M"),{err:state.err,segments:state.result}}},{}],6:[function(require,module){"use strict";function SvgPath(path){if(!(this instanceof SvgPath))return new SvgPath(path);var pstate=pathParse(path);this.segments=pstate.segments,this.err=pstate.err,this.__stack=[]}var pathParse=require("./path_parse"),transformParse=require("./transform_parse"),matrix=require("./matrix"),a2c=require("./a2c"),ellipse=require("./ellipse");SvgPath.prototype.__matrix=function(m){var i,self=this;m.queue.length&&this.iterate(function(s,index,x,y){var p,result,name,isRelative;switch(s[0]){case"v":result=0===(p=m.calc(0,s[1],!0))[0]?["v",p[1]]:["l",p[0],p[1]];break;case"V":result=(p=m.calc(x,s[1],!1))[0]===m.calc(x,y,!1)[0]?["V",p[1]]:["L",p[0],p[1]];break;case"h":result=0===(p=m.calc(s[1],0,!0))[1]?["h",p[0]]:["l",p[0],p[1]];break;case"H":result=(p=m.calc(s[1],y,!1))[1]===m.calc(x,y,!1)[1]?["H",p[0]]:["L",p[0],p[1]];break;case"a":case"A":var ma=m.toArray(),e=ellipse(s[1],s[2],s[3]).transform(ma);if(ma[0]*ma[3]-ma[1]*ma[2]<0&&(s[5]=s[5]?"0":"1"),p=m.calc(s[6],s[7],"a"===s[0]),"A"===s[0]&&s[6]===x&&s[7]===y||"a"===s[0]&&0===s[6]&&0===s[7]){result=["a"===s[0]?"l":"L",p[0],p[1]];break}result=e.isDegenerate()?["a"===s[0]?"l":"L",p[0],p[1]]:[s[0],e.rx,e.ry,e.ax,s[4],s[5],p[0],p[1]];break;case"m":isRelative=0<index,result=["m",(p=m.calc(s[1],s[2],isRelative))[0],p[1]];break;default:for(result=[name=s[0]],isRelative=name.toLowerCase()===name,i=1;i<s.length;i+=2)p=m.calc(s[i],s[i+1],isRelative),result.push(p[0],p[1])}self.segments[index]=result},!0)},SvgPath.prototype.__evaluateStack=function(){var m,i;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(m=matrix(),i=this.__stack.length;0<=--i;)m.matrix(this.__stack[i].toArray());this.__matrix(m),this.__stack=[]}},SvgPath.prototype.toString=function(){var skipCmd,cmd,elements=[];this.__evaluateStack();for(var i=0;i<this.segments.length;i++)cmd=this.segments[i][0],skipCmd=0<i&&"m"!==cmd&&"M"!==cmd&&cmd===this.segments[i-1][0],elements=elements.concat(skipCmd?this.segments[i].slice(1):this.segments[i]);return elements.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},SvgPath.prototype.translate=function(x,y){return this.__stack.push(matrix().translate(x,y||0)),this},SvgPath.prototype.scale=function(sx,sy){return this.__stack.push(matrix().scale(sx,sy||0===sy?sy:sx)),this},SvgPath.prototype.rotate=function(angle,rx,ry){return this.__stack.push(matrix().rotate(angle,rx||0,ry||0)),this},SvgPath.prototype.skewX=function(degrees){return this.__stack.push(matrix().skewX(degrees)),this},SvgPath.prototype.skewY=function(degrees){return this.__stack.push(matrix().skewY(degrees)),this},SvgPath.prototype.matrix=function(m){return this.__stack.push(matrix().matrix(m)),this},SvgPath.prototype.transform=function(transformString){return transformString.trim()&&this.__stack.push(transformParse(transformString)),this},SvgPath.prototype.round=function(d){var l,contourStartDeltaX=0,contourStartDeltaY=0,deltaX=0,deltaY=0;return d=d||0,this.__evaluateStack(),this.segments.forEach(function(s){var isRelative=s[0].toLowerCase()===s[0];switch(s[0]){case"H":case"h":return isRelative&&(s[1]+=deltaX),deltaX=s[1]-s[1].toFixed(d),void(s[1]=+s[1].toFixed(d));case"V":case"v":return isRelative&&(s[1]+=deltaY),deltaY=s[1]-s[1].toFixed(d),void(s[1]=+s[1].toFixed(d));case"Z":case"z":return deltaX=contourStartDeltaX,void(deltaY=contourStartDeltaY);case"M":case"m":return isRelative&&(s[1]+=deltaX,s[2]+=deltaY),deltaX=s[1]-s[1].toFixed(d),deltaY=s[2]-s[2].toFixed(d),contourStartDeltaX=deltaX,contourStartDeltaY=deltaY,s[1]=+s[1].toFixed(d),void(s[2]=+s[2].toFixed(d));case"A":case"a":return isRelative&&(s[6]+=deltaX,s[7]+=deltaY),deltaX=s[6]-s[6].toFixed(d),deltaY=s[7]-s[7].toFixed(d),s[1]=+s[1].toFixed(d),s[2]=+s[2].toFixed(d),s[3]=+s[3].toFixed(d+2),s[6]=+s[6].toFixed(d),void(s[7]=+s[7].toFixed(d));default:return l=s.length,isRelative&&(s[l-2]+=deltaX,s[l-1]+=deltaY),deltaX=s[l-2]-s[l-2].toFixed(d),deltaY=s[l-1]-s[l-1].toFixed(d),void s.forEach(function(val,i){i&&(s[i]=+s[i].toFixed(d))})}}),this},SvgPath.prototype.iterate=function(iterator,keepLazyStack){var i,j,newSegments,segments=this.segments,replacements={},needReplace=!1,lastX=0,lastY=0,countourStartX=0,countourStartY=0;if(keepLazyStack||this.__evaluateStack(),segments.forEach(function(s,index){var res=iterator(s,index,lastX,lastY);Array.isArray(res)&&(replacements[index]=res,needReplace=!0);var isRelative=s[0]===s[0].toLowerCase();switch(s[0]){case"m":case"M":return lastX=s[1]+(isRelative?lastX:0),lastY=s[2]+(isRelative?lastY:0),countourStartX=lastX,void(countourStartY=lastY);case"h":case"H":return void(lastX=s[1]+(isRelative?lastX:0));case"v":case"V":return void(lastY=s[1]+(isRelative?lastY:0));case"z":case"Z":return lastX=countourStartX,void(lastY=countourStartY);default:lastX=s[s.length-2]+(isRelative?lastX:0),lastY=s[s.length-1]+(isRelative?lastY:0)}}),!needReplace)return this;for(newSegments=[],i=0;i<segments.length;i++)if("undefined"!=typeof replacements[i])for(j=0;j<replacements[i].length;j++)newSegments.push(replacements[i][j]);else newSegments.push(segments[i]);return this.segments=newSegments,this},SvgPath.prototype.abs=function(){return this.iterate(function(s,index,x,y){var i,name=s[0],nameUC=name.toUpperCase();if(name!==nameUC)switch(s[0]=nameUC,name){case"v":return void(s[1]+=y);case"a":return s[6]+=x,void(s[7]+=y);default:for(i=1;i<s.length;i++)s[i]+=i%2?x:y}},!0),this},SvgPath.prototype.rel=function(){return this.iterate(function(s,index,x,y){var i,name=s[0],nameLC=name.toLowerCase();if(name!==nameLC&&(0!==index||"M"!==name))switch(s[0]=nameLC,name){case"V":return void(s[1]-=y);case"A":return s[6]-=x,void(s[7]-=y);default:for(i=1;i<s.length;i++)s[i]-=i%2?x:y}},!0),this},SvgPath.prototype.unarc=function(){return this.iterate(function(s,index,x,y){var new_segments,nextX,nextY,result=[],name=s[0];return"A"!==name&&"a"!==name?null:(nextY="a"===name?(nextX=x+s[6],y+s[7]):(nextX=s[6],s[7]),0===(new_segments=a2c(x,y,nextX,nextY,s[4],s[5],s[1],s[2],s[3])).length?[["a"===s[0]?"l":"L",s[6],s[7]]]:(new_segments.forEach(function(s){result.push(["C",s[2],s[3],s[4],s[5],s[6],s[7]])}),result))}),this},SvgPath.prototype.unshort=function(){var prevControlX,prevControlY,prevSegment,curControlX,curControlY,segments=this.segments;return this.iterate(function(s,idx,x,y){var isRelative,name=s[0],nameUC=name.toUpperCase();idx&&("T"===nameUC?(isRelative="t"===name,prevSegment=segments[idx-1],prevControlY="Q"===prevSegment[0]?(prevControlX=prevSegment[1]-x,prevSegment[2]-y):"q"===prevSegment[0]?(prevControlX=prevSegment[1]-prevSegment[3],prevSegment[2]-prevSegment[4]):prevControlX=0,curControlX=-prevControlX,curControlY=-prevControlY,isRelative||(curControlX+=x,curControlY+=y),segments[idx]=[isRelative?"q":"Q",curControlX,curControlY,s[1],s[2]]):"S"===nameUC&&(isRelative="s"===name,prevSegment=segments[idx-1],prevControlY="C"===prevSegment[0]?(prevControlX=prevSegment[3]-x,prevSegment[4]-y):"c"===prevSegment[0]?(prevControlX=prevSegment[3]-prevSegment[5],prevSegment[4]-prevSegment[6]):prevControlX=0,curControlX=-prevControlX,curControlY=-prevControlY,isRelative||(curControlX+=x,curControlY+=y),segments[idx]=[isRelative?"c":"C",curControlX,curControlY,s[1],s[2],s[3],s[4]]))}),this},module.exports=SvgPath},{"./a2c":2,"./ellipse":3,"./matrix":4,"./path_parse":5,"./transform_parse":7}],7:[function(require,module){"use strict";var Matrix=require("./matrix"),operations={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},CMD_SPLIT_RE=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,PARAMS_SPLIT_RE=/[\s,]+/;module.exports=function transformParse(transformString){var cmd,params,matrix=new Matrix;return transformString.split(CMD_SPLIT_RE).forEach(function(item){if(item.length)if("undefined"==typeof operations[item])switch(params=item.split(PARAMS_SPLIT_RE).map(function(i){return+i||0}),cmd){case"matrix":return void(6===params.length&&matrix.matrix(params));case"scale":return void(1===params.length?matrix.scale(params[0],params[0]):2===params.length&&matrix.scale(params[0],params[1]));case"rotate":return void(1===params.length?matrix.rotate(params[0],0,0):3===params.length&&matrix.rotate(params[0],params[1],params[2]));case"translate":return void(1===params.length?matrix.translate(params[0],0):2===params.length&&matrix.translate(params[0],params[1]));case"skewX":return void(1===params.length&&matrix.skewX(params[0]));case"skewY":return void(1===params.length&&matrix.skewY(params[0]))}else cmd=item}),matrix}},{"./matrix":4}],8:[function(require,module){!function(global){function RGBColor(color_string){this.ok=!1,"#"==color_string.charAt(0)&&(color_string=color_string.substr(1,6)),color_string=(color_string=color_string.replace(/ /g,"")).toLowerCase();var simple_colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var key in simple_colors)color_string==key&&(color_string=simple_colors[key]);for(var color_defs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(bits){return[parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(bits){return[parseInt(bits[1],16),parseInt(bits[2],16),parseInt(bits[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(bits){return[parseInt(bits[1]+bits[1],16),parseInt(bits[2]+bits[2],16),parseInt(bits[3]+bits[3],16)]}}],i=0;i<color_defs.length;i++){var re=color_defs[i].re,processor=color_defs[i].process,bits=re.exec(color_string);if(bits){var channels=processor(bits);this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var r=this.r.toString(16),g=this.g.toString(16),b=this.b.toString(16);return 1==r.length&&(r="0"+r),1==g.length&&(g="0"+g),1==b.length&&(b="0"+b),"#"+r+g+b},this.getHelpXML=function(){for(var examples=new Array,i=0;i<color_defs.length;i++)for(var example=color_defs[i].example,j=0;j<example.length;j++)examples[examples.length]=example[j];for(var sc in simple_colors)examples[examples.length]=sc;var xml=document.createElement("ul");xml.setAttribute("id","rgbcolor-examples");for(i=0;i<examples.length;i++)try{var list_item=document.createElement("li"),list_color=new RGBColor(examples[i]),example_div=document.createElement("div");example_div.style.cssText="margin: 3px; border: 1px solid black; background:"+list_color.toHex()+"; color:"+list_color.toHex(),example_div.appendChild(document.createTextNode("test"));var list_item_value=document.createTextNode(" "+examples[i]+" -> "+list_color.toRGB()+" -> "+list_color.toHex());list_item.appendChild(example_div),list_item.appendChild(list_item_value),xml.appendChild(list_item)}catch(e){}return xml}}"function"==typeof define&&define.amd?define(function(){return RGBColor}):void 0!==module&&module.exports?module.exports=RGBColor:global.RGBColor=RGBColor}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this)},{}],9:[function(require,module){
/*
The MIT License (MIT)

Copyright (c) 2015-2016 yWorks GmbH

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/
!function(global){function normalize(v){var length=Math.sqrt(v[0]*v[0]+v[1]*v[1]);return[v[0]/length,v[1]/length]}function getDirectionVector(from,to){return normalize([to[0]-from[0],to[1]-from[1]])}function addVectors(v1,v2){return[v1[0]+v2[0],v1[1]+v2[1]]}function MarkerList(){this.markers=[]}function Marker(id,anchor,angle){this.id=id,this.anchor=anchor,this.angle=angle}function computeViewBoxTransform(node,bounds,eX,eY,eWidth,eHeight){var align,meetOrSlice,vbX=bounds[0],vbY=bounds[1],vbWidth=bounds[2],vbHeight=bounds[3],scaleX=eWidth/vbWidth,scaleY=eHeight/vbHeight,preserveAspectRatio=node.getAttribute("preserveAspectRatio");if(preserveAspectRatio){var alignAndMeetOrSlice=preserveAspectRatio.split(" ");align=alignAndMeetOrSlice[0],meetOrSlice=alignAndMeetOrSlice[1]||"meet"}else align="xMidYMid",meetOrSlice="meet";"none"!==align&&("meet"===meetOrSlice?scaleX=scaleY=Math.min(scaleX,scaleY):"slice"===meetOrSlice&&(scaleX=scaleY=Math.max(scaleX,scaleY)));var translateX=eX-vbX*scaleX,translateY=eY-vbY*scaleY;0<=align.indexOf("xMid")?translateX+=(eWidth-vbWidth*scaleX)/2:0<=align.indexOf("xMax")&&(translateX+=eWidth-vbWidth*scaleX),0<=align.indexOf("yMid")?translateY+=(eHeight-vbHeight*scaleY)/2:0<=align.indexOf("yMax")&&(translateY+=eHeight-vbHeight*scaleY);var translate=new _pdf.Matrix(1,0,0,1,translateX,translateY),scale=new _pdf.Matrix(scaleX,0,0,scaleY,0,0);return _pdf.matrixMult(scale,translate)}function setTextProperties(node,fillRGB){var fontType,fontFamily=getAttribute(node,"font-family");fontFamily&&_pdf.setFont(fontFamily),fillRGB&&fillRGB.ok&&_pdf.setTextColor(fillRGB.r,fillRGB.g,fillRGB.b);var fontWeight=getAttribute(node,"font-weight");fontWeight&&"bold"===fontWeight&&(fontType="bold");var fontStyle=getAttribute(node,"font-style");fontStyle&&"italic"===fontStyle&&(fontType+="italic"),_pdf.setFontType(fontType);var pdfFontSize=16,fontSize=getAttribute(node,"font-size");fontSize&&(pdfFontSize=parseFloat(fontSize),_pdf.setFontSize(pdfFontSize))}var RGBColor,SvgPath,_pdf,cToQ=2/3,iriReference=/url\(#([^)]+)\)/,getPathSegList=function(node){var d=node.getAttribute("d");SvgPath&&(d=SvgPath(d).unshort().unarc().abs().toString(),node.setAttribute("d",d));var pathSegList=node.pathSegList;if(pathSegList)return pathSegList;pathSegList=[];for(var match,regex=/([a-df-zA-DF-Z])([^a-df-zA-DF-Z]*)/g;match=regex.exec(d);){var coords=parseFloats(match[2]),type=match[1],length=0<="zZ".indexOf(type)?0:0<="hHvV".indexOf(type)?1:0<="mMlLtT".indexOf(type)?2:0<="sSqQ".indexOf(type)?4:0<="aA".indexOf(type)?7:0<="cC".indexOf(type)?6:-1,i=0;do{var pathSeg={pathSegTypeAsLetter:type};switch(type){case"h":case"H":pathSeg.x=coords[i];break;case"v":case"V":pathSeg.y=coords[i];break;case"c":case"C":pathSeg.x1=coords[i+length-6],pathSeg.y1=coords[i+length-5];case"s":case"S":pathSeg.x2=coords[i+length-4],pathSeg.y2=coords[i+length-3];case"t":case"T":case"l":case"L":case"m":case"M":pathSeg.x=coords[i+length-2],pathSeg.y=coords[i+length-1];break;case"q":case"Q":pathSeg.x1=coords[i],pathSeg.y1=coords[i+1],pathSeg.x=coords[i+2],pathSeg.y=coords[i+3];break;case"a":case"A":throw new Error("Cannot convert Arcs without SvgPath package")}pathSegList.push(pathSeg),"m"===type?type="l":"M"===type&&(type="L"),i+=length}while(i<coords.length)}return pathSegList.getItem=function(i){return this[i]},pathSegList.numberOfItems=pathSegList.length,pathSegList},getAttribute=function(node,propertyNode,propertyCss){return propertyCss=propertyCss||propertyNode,node.getAttribute(propertyNode)||node.style[propertyCss]},nodeIs=function(node,tagsString){return 0<=tagsString.split(",").indexOf(node.tagName.toLowerCase())},forEachChild=function(node,fn){for(var children=[],i=0;i<node.childNodes.length;i++){var childNode=node.childNodes[i];"#"!==childNode.nodeName.charAt(0)&&children.push(childNode)}for(i=0;i<children.length;i++)fn(i,children[i])},getAngle=function(from,to){return Math.atan2(to[1]-from[1],to[0]-from[0])},mirrorPoint=function(p1,p2){var dx=p2[0]-p1[0],dy=p2[1]-p1[1];return[p1[0]+2*dx,p1[1]+2*dy]},toCubic=function(from,to){return[cToQ*(to[0]-from[0])+from[0],cToQ*(to[1]-from[1])+from[1]]},getControlPointFromPrevious=function(i,from,list,prevX,prevY){var prev=list.getItem(i-1);return 0<i&&("C"===prev.pathSegTypeAsLetter||"S"===prev.pathSegTypeAsLetter)?mirrorPoint([prev.x2,prev.y2],from):0<i&&("c"===prev.pathSegTypeAsLetter||"s"===prev.pathSegTypeAsLetter)?mirrorPoint([prev.x2+prevX,prev.y2+prevY],from):[from[0],from[1]]},SvgPrefix=function(prefix){this.prefix=prefix,this.id=0,this.nextChild=function(){return new SvgPrefix("_"+this.id+++"_"+this.get())},this.get=function(){return this.prefix}},AttributeState=function(){this.fillMode="F",this.strokeMode="",this.color=new RGBColor("rgb(0, 0, 0)"),this.fill=new RGBColor("rgb(0, 0, 0)"),this.fillOpacity=1,this.fontFamily="times",this.fontSize=16,this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=null,this.strokeLinecap="butt",this.strokeLinejoin="miter",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.textAnchor="start",this.visibility="visible"};AttributeState.prototype.clone=function(){var clone=new AttributeState;return Object.getOwnPropertyNames(this).forEach(function(name){clone[name]=this[name]},this),clone},MarkerList.prototype.addMarker=function addMarker(marker){this.markers.push(marker)},MarkerList.prototype.draw=function(tfMatrix,attributeState){for(var i=0;i<this.markers.length;i++){var tf,marker=this.markers[i],angle=marker.angle,anchor=marker.anchor,cos=Math.cos(angle),sin=Math.sin(angle);tf=new _pdf.Matrix(cos,sin,-sin,cos,anchor[0],anchor[1]),tf=_pdf.matrixMult(new _pdf.Matrix(attributeState.strokeWidth,0,0,attributeState.strokeWidth,0,0),tf),tf=_pdf.matrixMult(tf,tfMatrix),_pdf.saveGraphicsState(),_pdf.setLineWidth(1),_pdf.doFormObject(marker.id,tf),_pdf.restoreGraphicsState()}};var getFromDefs=function(id,defs){for(var regExp=/_\d+_/;!defs[id]&&regExp.exec(id);)id=id.replace(regExp,"");return defs[id]},removeNewlinesAndTrim=function(str){return str.replace(/[\n\s\r]+/," ").trim()},cloneDefs=function(defs){var clone={};for(var key in defs)defs.hasOwnProperty(key)&&(clone[key]=defs[key]);return clone},computeNodeTransform=function(node){var viewBox,x,y,nodeTransform=_pdf.unitMatrix;if(nodeIs(node,"svg,g"))if(x=parseFloat(node.getAttribute("x"))||0,y=parseFloat(node.getAttribute("y"))||0,viewBox=node.getAttribute("viewBox")){var width=parseFloat(node.getAttribute("width")),height=parseFloat(node.getAttribute("height"));nodeTransform=computeViewBoxTransform(node,parseFloats(viewBox),x,y,width,height)}else nodeTransform=new _pdf.Matrix(1,0,0,1,x,y);else if(nodeIs(node,"marker"))if(x=parseFloat(node.getAttribute("refX"))||0,y=parseFloat(node.getAttribute("refY"))||0,viewBox=node.getAttribute("viewBox")){var bounds=parseFloats(viewBox);bounds[0]=bounds[1]=0,nodeTransform=computeViewBoxTransform(node,bounds,0,0,node.getAttribute("markerWidth"),node.getAttribute("markerHeight")),nodeTransform=_pdf.matrixMult(new _pdf.Matrix(1,0,0,1,-x,-y),nodeTransform)}else nodeTransform=new _pdf.Matrix(1,0,0,1,-x,-y);var transformString=node.getAttribute("transform");return transformString?_pdf.matrixMult(nodeTransform,parseTransform(transformString)):nodeTransform},parsePointsString=function(string){for(var floats=parseFloats(string),result=[],i=0;i<floats.length-1;i+=2){var x=floats[i],y=floats[i+1];result.push([x,y])}return result},parseTransform=function(transformString){if(!transformString)return _pdf.unitMatrix;for(var m,mRegex=/^\s*matrix\(([^\)]+)\)\s*/,tRegex=/^\s*translate\(([^\)]+)\)\s*/,rRegex=/^\s*rotate\(([^\)]+)\)\s*/,sRegex=/^\s*scale\(([^\)]+)\)\s*/,sXRegex=/^\s*skewX\(([^\)]+)\)\s*/,sYRegex=/^\s*skewY\(([^\)]+)\)\s*/,resultMatrix=_pdf.unitMatrix;0<transformString.length;){var match=mRegex.exec(transformString);if(match&&(m=parseFloats(match[1]),resultMatrix=_pdf.matrixMult(new _pdf.Matrix(m[0],m[1],m[2],m[3],m[4],m[5]),resultMatrix),transformString=transformString.substr(match[0].length)),match=rRegex.exec(transformString)){m=parseFloats(match[1]);var a=Math.PI*m[0]/180;if(resultMatrix=_pdf.matrixMult(new _pdf.Matrix(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0),resultMatrix),m[1]&&m[2]){var t1=new _pdf.Matrix(1,0,0,1,m[1],m[2]),t2=new _pdf.Matrix(1,0,0,1,-m[1],-m[2]);resultMatrix=_pdf.matrixMult(t2,_pdf.matrixMult(resultMatrix,t1))}transformString=transformString.substr(match[0].length)}(match=tRegex.exec(transformString))&&(m=parseFloats(match[1]),resultMatrix=_pdf.matrixMult(new _pdf.Matrix(1,0,0,1,m[0],m[1]||0),resultMatrix),transformString=transformString.substr(match[0].length)),(match=sRegex.exec(transformString))&&((m=parseFloats(match[1]))[1]||(m[1]=m[0]),resultMatrix=_pdf.matrixMult(new _pdf.Matrix(m[0],0,0,m[1],0,0),resultMatrix),transformString=transformString.substr(match[0].length)),(match=sXRegex.exec(transformString))&&(m=parseFloat(match[1]),resultMatrix=_pdf.matrixMult(new _pdf.Matrix(1,0,Math.tan(m),1,0,0),resultMatrix),transformString=transformString.substr(match[0].length)),(match=sYRegex.exec(transformString))&&(m=parseFloat(match[1]),resultMatrix=_pdf.matrixMult(new _pdf.Matrix(1,Math.tan(m),0,1,0,0),resultMatrix),transformString=transformString.substr(match[0].length))}return resultMatrix},parseFloats=function(str){for(var match,floats=[],regex=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;match=regex.exec(str);)floats.push(parseFloat(match[0]));return floats},parseColor=function(colorString){var match=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(colorString);if(match){var floats=parseFloats(match[1]),color=new RGBColor("rgb("+floats.slice(0,3).join(",")+")");return color.a=floats[3],color}return new RGBColor(colorString)},multVecMatrix=function(vec,matrix){var x=vec[0],y=vec[1];return[matrix.a*x+matrix.c*y+matrix.e,matrix.b*x+matrix.d*y+matrix.f]},getUntransformedBBox=function(node){if("none"===getAttribute(node,"display"))return[0,0,0,0];var i,minX,minY,maxX,maxY,viewBox,vb,boundingBox,pf=parseFloat;if(nodeIs(node,"polygon")){var points=parsePointsString(node.getAttribute("points"));for(minX=Number.POSITIVE_INFINITY,minY=Number.POSITIVE_INFINITY,maxX=Number.NEGATIVE_INFINITY,maxY=Number.NEGATIVE_INFINITY,i=0;i<points.length;i++){var point=points[i];minX=Math.min(minX,point[0]),maxX=Math.max(maxX,point[0]),minY=Math.min(minY,point[1]),maxY=Math.max(maxY,point[1])}boundingBox=[minX,minY,maxX-minX,maxY-minY]}else if(nodeIs(node,"path")){var list=getPathSegList(node);minX=Number.POSITIVE_INFINITY,minY=Number.POSITIVE_INFINITY,maxX=Number.NEGATIVE_INFINITY,maxY=Number.NEGATIVE_INFINITY;var prevX,prevY,newX,newY,p2,p3,to,x=0,y=0;for(i=0;i<list.numberOfItems;i++){var seg=list.getItem(i),cmd=seg.pathSegTypeAsLetter;switch(cmd){case"H":newX=seg.x,newY=y;break;case"h":newX=seg.x+x,newY=y;break;case"V":newX=x,newY=seg.y;break;case"v":newX=x,newY=seg.y+y;break;case"C":p2=[seg.x1,seg.y1],p3=[seg.x2,seg.y2],to=[seg.x,seg.y];break;case"c":p2=[seg.x1+x,seg.y1+y],p3=[seg.x2+x,seg.y2+y],to=[seg.x+x,seg.y+y];break;case"S":p2=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p3=[seg.x2,seg.y2],to=[seg.x,seg.y];break;case"s":p2=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p3=[seg.x2+x,seg.y2+y],to=[seg.x+x,seg.y+y];break;case"Q":pf=[seg.x1,seg.y1],p2=toCubic([x,y],pf),p3=toCubic([seg.x,seg.y],pf),to=[seg.x,seg.y];break;case"q":pf=[seg.x1+x,seg.y1+y],p2=toCubic([x,y],pf),p3=toCubic([x+seg.x,y+seg.y],pf),to=[seg.x+x,seg.y+y];break;case"T":p2=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p2=toCubic([x,y],pf),p3=toCubic([seg.x,seg.y],pf),to=[seg.x,seg.y];break;case"t":pf=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p2=toCubic([x,y],pf),p3=toCubic([x+seg.x,y+seg.y],pf),to=[seg.x+x,seg.y+y]}0<="sScCqQtT".indexOf(cmd)&&(prevX=x,prevY=y),0<="MLCSQT".indexOf(cmd)?(x=seg.x,y=seg.y):0<="mlcsqt".indexOf(cmd)?(x=seg.x+x,y=seg.y+y):"zZ".indexOf(cmd)<0&&(x=newX,y=newY),maxY=0<="CSQTcsqt".indexOf(cmd)?(minX=Math.min(minX,x,p2[0],p3[0],to[0]),maxX=Math.max(maxX,x,p2[0],p3[0],to[0]),minY=Math.min(minY,y,p2[1],p3[1],to[1]),Math.max(maxY,y,p2[1],p3[1],to[1])):(minX=Math.min(minX,x),maxX=Math.max(maxX,x),minY=Math.min(minY,y),Math.max(maxY,y))}boundingBox=[minX,minY,maxX-minX,maxY-minY]}else{if(nodeIs(node,"svg"))return(viewBox=node.getAttribute("viewBox"))&&(vb=parseFloats(viewBox)),[pf(node.getAttribute("x"))||vb&&vb[0]||0,pf(node.getAttribute("y"))||vb&&vb[1]||0,pf(node.getAttribute("width"))||vb&&vb[2]||0,pf(node.getAttribute("height"))||vb&&vb[3]||0];if(nodeIs(node,"g"))boundingBox=[0,0,0,0],forEachChild(node,function(i,node){var nodeBox=getUntransformedBBox(node);boundingBox=[Math.min(boundingBox[0],nodeBox[0]),Math.min(boundingBox[1],nodeBox[1]),Math.max(boundingBox[0]+boundingBox[2],nodeBox[0]+nodeBox[2])-Math.min(boundingBox[0],nodeBox[0]),Math.max(boundingBox[1]+boundingBox[3],nodeBox[1]+nodeBox[3])-Math.min(boundingBox[1],nodeBox[1])]});else{if(nodeIs(node,"marker"))return(viewBox=node.getAttribute("viewBox"))&&(vb=parseFloats(viewBox)),[vb&&vb[0]||0,vb&&vb[1]||0,vb&&vb[2]||pf(node.getAttribute("marker-width"))||0,vb&&vb[3]||pf(node.getAttribute("marker-height"))||0];if(nodeIs(node,"pattern"))return[pf(node.getAttribute("x"))||0,pf(node.getAttribute("y"))||0,pf(node.getAttribute("width"))||0,pf(node.getAttribute("height"))||0];var x1=pf(node.getAttribute("x1"))||pf(node.getAttribute("x"))||pf(node.getAttribute("cx")-pf(node.getAttribute("r")))||0,x2=pf(node.getAttribute("x2"))||x1+pf(node.getAttribute("width"))||pf(node.getAttribute("cx"))+pf(node.getAttribute("r"))||0,y1=pf(node.getAttribute("y1"))||pf(node.getAttribute("y"))||pf(node.getAttribute("cy"))-pf(node.getAttribute("r"))||0,y2=pf(node.getAttribute("y2"))||y1+pf(node.getAttribute("height"))||pf(node.getAttribute("cy"))+pf(node.getAttribute("r"))||0;boundingBox=[Math.min(x1,x2),Math.min(y1,y2),Math.max(x1,x2)-Math.min(x1,x2),Math.max(y1,y2)-Math.min(y1,y2)]}}if(nodeIs(node,"marker,svg,g"))return boundingBox;var lineWidth=getAttribute(node,"stroke-width")||1;return getAttribute(node,"stroke-miterlimit")&&(lineWidth*=.5/Math.sin(Math.PI/12)),[boundingBox[0]-lineWidth,boundingBox[1]-lineWidth,boundingBox[2]+2*lineWidth,boundingBox[3]+2*lineWidth]},polygon=function(node,tfMatrix,colorMode,gradient,gradientMatrix,svgIdPrefix,attributeState){var i,angle,points=parsePointsString(node.getAttribute("points")),lines=[{op:"m",c:multVecMatrix(points[0],tfMatrix)}];for(i=1;i<points.length;i++){var p=points[i],to=multVecMatrix(p,tfMatrix);lines.push({op:"l",c:to})}lines.push({op:"h"}),_pdf.path(lines,colorMode,gradient,gradientMatrix);var markerEnd=node.getAttribute("marker-end"),markerStart=node.getAttribute("marker-start"),markerMid=node.getAttribute("marker-mid");if(markerStart||markerMid||markerEnd){var length=lines.length,markers=new MarkerList;if(markerStart&&(markerStart=svgIdPrefix.get()+iriReference.exec(markerStart)[1],angle=addVectors(getDirectionVector(lines[0].c,lines[1].c),getDirectionVector(lines[length-2].c,lines[0].c)),markers.addMarker(new Marker(markerStart,lines[0].c,Math.atan2(angle[1],angle[0])))),markerMid){markerMid=svgIdPrefix.get()+iriReference.exec(markerMid)[1];var curAngle,prevAngle=getDirectionVector(lines[0].c,lines[1].c);for(i=1;i<lines.length-2;i++)angle=addVectors(prevAngle,curAngle=getDirectionVector(lines[i].c,lines[i+1].c)),markers.addMarker(new Marker(markerMid,lines[i].c,Math.atan2(angle[1],angle[0]))),prevAngle=curAngle;angle=addVectors(prevAngle,curAngle=getDirectionVector(lines[length-2].c,lines[0].c)),markers.addMarker(new Marker(markerMid,lines[length-2].c,Math.atan2(angle[1],angle[0])))}markerEnd&&(markerEnd=svgIdPrefix.get()+iriReference.exec(markerEnd)[1],angle=addVectors(getDirectionVector(lines[0].c,lines[1].c),getDirectionVector(lines[length-2].c,lines[0].c)),markers.addMarker(new Marker(markerEnd,lines[0].c,Math.atan2(angle[1],angle[0])))),markers.draw(_pdf.unitMatrix,attributeState)}},image=function(node){var imageUrl=node.getAttribute("xlink:href")||node.getAttribute("href"),image=new Image;image.src=imageUrl;var canvas=document.createElement("canvas"),width=parseFloat(node.getAttribute("width")),height=parseFloat(node.getAttribute("height")),x=parseFloat(node.getAttribute("x")||0),y=parseFloat(node.getAttribute("y")||0);canvas.width=width,canvas.height=height;var context=canvas.getContext("2d");context.fillStyle="#fff",context.fillRect(0,0,width,height),context.drawImage(image,0,0,width,height);try{var jpegUrl=canvas.toDataURL("image/jpeg");_pdf.addImage(jpegUrl,"jpeg",x,y,width,height)}catch(e){"object"==typeof console&&console.warn&&console.warn('svg2pdfjs: Images with external resource link are not supported! ("'+imageUrl+'")')}},path=function(node,tfMatrix,svgIdPrefix,colorMode,gradient,gradientMatrix,attributeState){var list=getPathSegList(node),markerEnd=node.getAttribute("marker-end"),markerStart=node.getAttribute("marker-start"),markerMid=node.getAttribute("marker-mid");markerEnd&&(markerEnd=svgIdPrefix.get()+iriReference.exec(markerEnd)[1]),markerStart&&(markerStart=svgIdPrefix.get()+iriReference.exec(markerStart)[1]),markerMid&&(markerMid=svgIdPrefix.get()+iriReference.exec(markerMid)[1]);var lines=function(pathSegList,tfMatrix){for(var prevX,prevY,newX,newY,to,p,p2,p3,op,curAngle,x=0,y=0,x0=x,y0=y,lines=[],markers=new MarkerList,prevAngle=[0,0],i=0;i<list.numberOfItems;i++){var seg=list.getItem(i),cmd=seg.pathSegTypeAsLetter;switch(cmd){case"M":x0=x,y0=y,to=[seg.x,seg.y],op="m";break;case"m":x0=x,y0=y,to=[seg.x+x,seg.y+y],op="m";break;case"L":to=[seg.x,seg.y],op="l";break;case"l":to=[seg.x+x,seg.y+y],op="l";break;case"H":to=[seg.x,y],op="l",newX=seg.x,newY=y;break;case"h":to=[seg.x+x,y],op="l",newX=seg.x+x,newY=y;break;case"V":to=[x,seg.y],op="l",newX=x,newY=seg.y;break;case"v":to=[x,seg.y+y],op="l",newX=x,newY=seg.y+y;break;case"C":p2=[seg.x1,seg.y1],p3=[seg.x2,seg.y2],to=[seg.x,seg.y];break;case"c":p2=[seg.x1+x,seg.y1+y],p3=[seg.x2+x,seg.y2+y],to=[seg.x+x,seg.y+y];break;case"S":p2=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p3=[seg.x2,seg.y2],to=[seg.x,seg.y];break;case"s":p2=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p3=[seg.x2+x,seg.y2+y],to=[seg.x+x,seg.y+y];break;case"Q":p=[seg.x1,seg.y1],p2=toCubic([x,y],p),p3=toCubic([seg.x,seg.y],p),to=[seg.x,seg.y];break;case"q":p=[seg.x1+x,seg.y1+y],p2=toCubic([x,y],p),p3=toCubic([x+seg.x,y+seg.y],p),to=[seg.x+x,seg.y+y];break;case"T":p2=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p2=toCubic([x,y],p),p3=toCubic([seg.x,seg.y],p),to=[seg.x,seg.y];break;case"t":p=getControlPointFromPrevious(i,[x,y],list,prevX,prevY),p2=toCubic([x,y],p),p3=toCubic([x+seg.x,y+seg.y],p),to=[seg.x+x,seg.y+y];break;case"Z":case"z":x=x0,y=y0,lines.push({op:"h"})}var hasStartMarker=markerStart&&(1===i||"mM".indexOf(cmd)<0&&0<="mM".indexOf(list.getItem(i-1).pathSegTypeAsLetter)),hasEndMarker=markerEnd&&(i===list.numberOfItems-1||"mM".indexOf(cmd)<0&&0<="mM".indexOf(list.getItem(i+1).pathSegTypeAsLetter)),hasMidMarker=markerMid&&0<i&&!(1===i&&0<="mM".indexOf(list.getItem(i-1).pathSegTypeAsLetter));if(0<="sScCqQtT".indexOf(cmd))hasStartMarker&&markers.addMarker(new Marker(markerStart,[x,y],getAngle([x,y],p2))),hasEndMarker&&markers.addMarker(new Marker(markerEnd,to,getAngle(p3,to))),hasMidMarker&&(curAngle=getDirectionVector([x,y],p2),curAngle=0<="mM".indexOf(list.getItem(i-1).pathSegTypeAsLetter)?curAngle:normalize(addVectors(prevAngle,curAngle)),markers.addMarker(new Marker(markerMid,[x,y],Math.atan2(curAngle[1],curAngle[0])))),prevAngle=getDirectionVector(p3,to),prevX=x,prevY=y,p2=multVecMatrix(p2,tfMatrix),p3=multVecMatrix(p3,tfMatrix),p=multVecMatrix(to,tfMatrix),lines.push({op:"c",c:[p2[0],p2[1],p3[0],p3[1],p[0],p[1]]});else if(0<="lLhHvVmM".indexOf(cmd)){if(curAngle=getDirectionVector([x,y],to),hasStartMarker&&markers.addMarker(new Marker(markerStart,[x,y],Math.atan2(curAngle[1],curAngle[0]))),hasEndMarker&&markers.addMarker(new Marker(markerEnd,to,Math.atan2(curAngle[1],curAngle[0]))),hasMidMarker){var angle=0<="mM".indexOf(cmd)?prevAngle:0<="mM".indexOf(list.getItem(i-1).pathSegTypeAsLetter)?curAngle:normalize(addVectors(prevAngle,curAngle));markers.addMarker(new Marker(markerMid,[x,y],Math.atan2(angle[1],angle[0])))}prevAngle=curAngle,p=multVecMatrix(to,tfMatrix),lines.push({op:op,c:p})}0<="MLCSQT".indexOf(cmd)?(x=seg.x,y=seg.y):0<="mlcsqt".indexOf(cmd)?(x=seg.x+x,y=seg.y+y):"zZ".indexOf(cmd)<0&&(x=newX,y=newY)}return{lines:lines,markers:markers}}(list,tfMatrix);0<lines.lines.length&&_pdf.path(lines.lines,colorMode,gradient,gradientMatrix),(markerEnd||markerStart||markerMid)&&lines.markers.draw(tfMatrix,attributeState)},use=function(node,tfMatrix,svgIdPrefix){var url=node.getAttribute("href")||node.getAttribute("xlink:href");if(url){var formObject=_pdf.getFormObject(svgIdPrefix.get()+url.substring(1)),x=node.getAttribute("x")||0,y=node.getAttribute("y")||0,width=node.getAttribute("width")||formObject.width,height=node.getAttribute("height")||formObject.height,t=new _pdf.Matrix(width/formObject.width||0,0,0,height/formObject.height||0,x,y);t=_pdf.matrixMult(t,tfMatrix),_pdf.doFormObject(svgIdPrefix.get()+url.substring(1),t)}},line=function(node,tfMatrix,svgIdPrefix,attributeState){var p1=multVecMatrix([parseFloat(node.getAttribute("x1")),parseFloat(node.getAttribute("y1"))],tfMatrix),p2=multVecMatrix([parseFloat(node.getAttribute("x2")),parseFloat(node.getAttribute("y2"))],tfMatrix);"D"===attributeState.strokeMode&&_pdf.line(p1[0],p1[1],p2[0],p2[1]);var markerStart=node.getAttribute("marker-start"),markerEnd=node.getAttribute("marker-end");if(markerStart||markerEnd){var markers=new MarkerList,angle=getAngle(p1,p2);markerStart&&markers.addMarker(new Marker(svgIdPrefix.get()+iriReference.exec(markerStart)[1],p1,angle)),markerEnd&&markers.addMarker(new Marker(svgIdPrefix.get()+iriReference.exec(markerEnd)[1],p2,angle)),markers.draw(_pdf.unitMatrix,attributeState)}},rect=function(node,colorMode,gradient,gradientMatrix){_pdf.roundedRect(parseFloat(node.getAttribute("x"))||0,parseFloat(node.getAttribute("y"))||0,parseFloat(node.getAttribute("width")),parseFloat(node.getAttribute("height")),parseFloat(node.getAttribute("rx"))||0,parseFloat(node.getAttribute("ry"))||0,colorMode,gradient,gradientMatrix)},ellipse=function(node,colorMode,gradient,gradientMatrix){_pdf.ellipse(parseFloat(node.getAttribute("cx"))||0,parseFloat(node.getAttribute("cy"))||0,parseFloat(node.getAttribute("rx")),parseFloat(node.getAttribute("ry")),colorMode,gradient,gradientMatrix)},circle=function(node,colorMode,gradient,gradientMatrix){var radius=parseFloat(node.getAttribute("r"))||0;_pdf.ellipse(parseFloat(node.getAttribute("cx"))||0,parseFloat(node.getAttribute("cy"))||0,radius,radius,colorMode,gradient,gradientMatrix)},transformText=function(node,text){switch(getAttribute(node,"text-transform")){case"uppercase":return text.toUpperCase();case"lowercase":return text.toLowerCase();default:return text}},text=function(node,tfMatrix,hasFillColor,fillRGB,attributeState){_pdf.saveGraphicsState(),setTextProperties(node,fillRGB);var getTextOffset=function(textAnchor,width){var xOffset=0;switch(textAnchor){case"end":xOffset=width;break;case"middle":xOffset=width/2}return xOffset},toPixels=function(value,pdfFontSize){var match;return(match=value&&value.toString().match(/^([\-0-9.]+)em$/))?parseFloat(match[1])*pdfFontSize:(match=value&&value.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(match[1]):0},svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.appendChild(node),svg.setAttribute("visibility","hidden"),document.body.appendChild(svg);var x,y,box=node.getBBox(),xOffset=0,textAnchor=getAttribute(node,"text-anchor");textAnchor&&(xOffset=getTextOffset(textAnchor,box.width));var pdfFontSize=_pdf.getFontSize(),textX=toPixels(node.getAttribute("x"),pdfFontSize),textY=toPixels(node.getAttribute("y"),pdfFontSize),m=_pdf.matrixMult(new _pdf.Matrix(1,0,0,1,textX,textY),tfMatrix);x=toPixels(node.getAttribute("dx"),pdfFontSize),y=toPixels(node.getAttribute("dy"),pdfFontSize);var visibility=getAttribute(node,"visibility")||attributeState.visibility;0===node.childElementCount?"visible"===visibility&&_pdf.text(x-xOffset,y,transformText(node,removeNewlinesAndTrim(node.textContent)),void 0,m):forEachChild(node,function(i,tSpan){if(tSpan.textContent&&!nodeIs(tSpan,"title,desc,metadata")){_pdf.saveGraphicsState();var tSpanColor=getAttribute(tSpan,"fill");setTextProperties(tSpan,tSpanColor&&new RGBColor(tSpanColor));var extent=tSpan.getExtentOfChar(0);"visible"===(getAttribute(tSpan,"visibility")||visibility)&&_pdf.text(extent.x-textX,extent.y+.7*extent.height-textY,transformText(node,removeNewlinesAndTrim(tSpan.textContent)),void 0,m),_pdf.restoreGraphicsState()}}),document.body.removeChild(svg),_pdf.restoreGraphicsState()},findAndRenderDefs=function(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState){forEachChild(node,function(i,child){"defs"===child.tagName.toLowerCase()&&(renderNode(child,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState),child.parentNode.removeChild(child))})},svg=function(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState){var newSvgIdPrefix=svgIdPrefix.nextChild(),newDefs=cloneDefs(defs);findAndRenderDefs(node,tfMatrix,newDefs,newSvgIdPrefix,withinDefs,attributeState),renderChildren(node,tfMatrix,newDefs,newSvgIdPrefix,withinDefs,attributeState)},renderChildren=function(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState){forEachChild(node,function(i,node){renderNode(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState)})},putGradient=function(node,type,coords,defs,svgIdPrefix){var gState,colors=[],opacitySum=0,hasOpacity=!1;forEachChild(node,function(i,element){if("stop"===element.tagName.toLowerCase()){var color=new RGBColor(getAttribute(element,"stop-color"));colors.push({offset:parseFloat(element.getAttribute("offset")),color:[color.r,color.g,color.b]});var opacity=getAttribute(element,"stop-opacity");opacity&&1!=opacity&&(opacitySum+=parseFloat(opacity),hasOpacity=!0)}}),hasOpacity&&(gState=new _pdf.GState({opacity:opacitySum/coords.length}));var pattern=new _pdf.ShadingPattern(type,coords,colors,gState),id=svgIdPrefix.get()+node.getAttribute("id");_pdf.addShadingPattern(id,pattern),defs[id]=node},pattern=function(node,defs,svgIdPrefix,attributeState){var id=svgIdPrefix.get()+node.getAttribute("id");defs[id]=node;var bBox=getUntransformedBBox(node),pattern=new _pdf.TilingPattern([bBox[0],bBox[1],bBox[0]+bBox[2],bBox[1]+bBox[3]],bBox[2],bBox[3],null,computeNodeTransform(node));_pdf.beginTilingPattern(pattern),renderChildren(node,_pdf.unitMatrix,defs,svgIdPrefix,!1,attributeState),_pdf.endTilingPattern(id,pattern)},renderNode=function(node,contextTransform,defs,svgIdPrefix,withinDefs,attributeState){function setDefaultColor(){fillRGB=new RGBColor("rgb(0, 0, 0)"),hasFillColor=!0,fillMode="F"}if((attributeState=attributeState.clone(),"none"!==getAttribute(node,"display"))&&("hidden"!==(attributeState.visibility=getAttribute(node,"visibility")||attributeState.visibility)||nodeIs(node,"svg,g,marker,a,pattern,defs,text"))){var tfMatrix,bBox,hasFillColor=!1,fillRGB=null,fillMode="inherit",strokeMode="inherit",fillUrl=null,fillData=null,targetIsFormObject=withinDefs&&!nodeIs(node,"lineargradient,radialgradient,pattern");if(targetIsFormObject?(tfMatrix=computeNodeTransform(node),bBox=getUntransformedBBox(node),_pdf.beginFormObject(bBox[0],bBox[1],bBox[2],bBox[3],tfMatrix),tfMatrix=_pdf.unitMatrix,withinDefs=!1):(tfMatrix=_pdf.matrixMult(computeNodeTransform(node),contextTransform),_pdf.saveGraphicsState()),nodeIs(node,"g,path,rect,text,ellipse,line,circle,polygon")){var fillColor=getAttribute(node,"fill");if(fillColor){var url=iriReference.exec(fillColor);if(url){fillUrl=svgIdPrefix.get()+url[1];var fill=getFromDefs(fillUrl,defs);if(fill&&nodeIs(fill,"lineargradient,radialgradient")){var gradientUnitsMatrix=tfMatrix;if(!fill.hasAttribute("gradientUnits")||"objectboundingbox"===fill.getAttribute("gradientUnits").toLowerCase()){bBox||(bBox=getUntransformedBBox(node)),gradientUnitsMatrix=new _pdf.Matrix(bBox[2],0,0,bBox[3],bBox[0],bBox[1]);var nodeTransform=computeNodeTransform(node);gradientUnitsMatrix=_pdf.matrixMult(gradientUnitsMatrix,nodeTransform)}var gradientTransform=parseTransform(fill.getAttribute("gradientTransform"));fillData=_pdf.matrixMult(gradientTransform,gradientUnitsMatrix),fillMode=""}else if(fill&&nodeIs(fill,"pattern")){var fillBBox,y,width,height,x;fillData={};var patternUnitsMatrix=_pdf.unitMatrix;fill.hasAttribute("patternUnits")&&"objectboundingbox"!==fill.getAttribute("patternUnits").toLowerCase()||(bBox||(bBox=getUntransformedBBox(node)),patternUnitsMatrix=new _pdf.Matrix(1,0,0,1,bBox[0],bBox[1]),x=(fillBBox=getUntransformedBBox(fill))[0]*bBox[0],y=fillBBox[1]*bBox[1],width=fillBBox[2]*bBox[2],height=fillBBox[3]*bBox[3],fillData.boundingBox=[x,y,x+width,y+height],fillData.xStep=width,fillData.yStep=height);var patternContentUnitsMatrix=_pdf.unitMatrix;fill.hasAttribute("patternContentUnits")&&"objectboundingbox"===fill.getAttribute("patternContentUnits").toLowerCase()&&(bBox||(bBox=getUntransformedBBox(node)),patternContentUnitsMatrix=new _pdf.Matrix(bBox[2],0,0,bBox[3],0,0),x=(fillBBox=fillData.boundingBox||getUntransformedBBox(fill))[0]/bBox[0],y=fillBBox[1]/bBox[1],width=fillBBox[2]/bBox[2],height=fillBBox[3]/bBox[3],fillData.boundingBox=[x,y,x+width,y+height],fillData.xStep=width,fillData.yStep=height),fillData.matrix=_pdf.matrixMult(_pdf.matrixMult(patternContentUnitsMatrix,patternUnitsMatrix),tfMatrix),fillMode="F"}else fillUrl=fill=null,setDefaultColor()}else fillRGB=parseColor(fillColor),fillMode=fillRGB.ok?(hasFillColor=!0,"F"):""}var opacity=1,nodeOpacity=getAttribute(node,"opacity")||getAttribute(node,"fill-opacity")||getAttribute(node,"stroke-opacity");nodeOpacity&&(opacity*=parseFloat(nodeOpacity)),fillRGB&&"number"==typeof fillRGB.a&&(opacity*=fillRGB.a),_pdf.setGState(new _pdf.GState({opacity:opacity}))}if(nodeIs(node,"g,path,rect,ellipse,line,circle,polygon")){hasFillColor&&(attributeState.fill=fillRGB,_pdf.setFillColor(fillRGB.r,fillRGB.g,fillRGB.b));var strokeColor=getAttribute(node,"stroke");if(strokeColor){var strokeWidth=getAttribute(node,"stroke-width");void 0!==strokeWidth&&""!==strokeWidth&&(strokeWidth=Math.abs(parseFloat(strokeWidth)),attributeState.strokeWidth=strokeWidth,_pdf.setLineWidth(strokeWidth));var strokeRGB=new RGBColor(strokeColor);strokeRGB.ok&&(attributeState.color=strokeRGB,_pdf.setDrawColor(strokeRGB.r,strokeRGB.g,strokeRGB.b),strokeMode=0!==strokeWidth?"D":"");var lineCap=getAttribute(node,"stroke-linecap");lineCap&&_pdf.setLineCap(attributeState.strokeLinecap=lineCap);var lineJoin=getAttribute(node,"stroke-linejoin");lineJoin&&_pdf.setLineJoin(attributeState.strokeLinejoin=lineJoin);var dashArray=getAttribute(node,"stroke-dasharray");if(dashArray){dashArray=parseFloats(dashArray);var dashOffset=parseInt(getAttribute(node,"stroke-dashoffset"))||0;attributeState.strokeDasharray=dashArray,attributeState.strokeDashoffset=dashOffset,_pdf.setLineDashPattern(dashArray,dashOffset)}var miterLimit=getAttribute(node,"stroke-miterlimit");void 0!==miterLimit&&""!==miterLimit&&_pdf.setLineMiterLimit(attributeState.strokeMiterlimit=parseFloat(miterLimit))}}fillMode=attributeState.fillMode="inherit"===fillMode?attributeState.fillMode:fillMode,strokeMode=attributeState.strokeMode="inherit"===strokeMode?attributeState.strokeMode:strokeMode;var colorMode=fillMode+strokeMode;switch(setTextProperties(node,fillRGB),node.tagName.toLowerCase()){case"svg":svg(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState);break;case"g":findAndRenderDefs(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState);case"a":case"marker":renderChildren(node,tfMatrix,defs,svgIdPrefix,withinDefs,attributeState);break;case"defs":renderChildren(node,tfMatrix,defs,svgIdPrefix,!0,attributeState);break;case"use":use(node,tfMatrix,svgIdPrefix);break;case"line":line(node,tfMatrix,svgIdPrefix,attributeState);break;case"rect":_pdf.setCurrentTransformationMatrix(tfMatrix),rect(node,colorMode,fillUrl,fillData);break;case"ellipse":_pdf.setCurrentTransformationMatrix(tfMatrix),ellipse(node,colorMode,fillUrl,fillData);break;case"circle":_pdf.setCurrentTransformationMatrix(tfMatrix),circle(node,colorMode,fillUrl,fillData);break;case"text":text(node,tfMatrix,hasFillColor,fillRGB,attributeState);break;case"path":path(node,tfMatrix,svgIdPrefix,colorMode,fillUrl,fillData,attributeState);break;case"polygon":polygon(node,tfMatrix,colorMode,fillUrl,fillData,svgIdPrefix,attributeState);break;case"image":_pdf.setCurrentTransformationMatrix(tfMatrix),image(node);break;case"lineargradient":putGradient(node,"axial",[node.getAttribute("x1"),node.getAttribute("y1"),node.getAttribute("x2"),node.getAttribute("y2")],defs,svgIdPrefix);break
;case"radialgradient":putGradient(node,"radial",[node.getAttribute("fx")||node.getAttribute("cx"),node.getAttribute("fy")||node.getAttribute("cy"),0,node.getAttribute("cx")||0,node.getAttribute("cy")||0,node.getAttribute("r")||0],defs,svgIdPrefix);break;case"pattern":pattern(node,defs,svgIdPrefix,attributeState)}targetIsFormObject?_pdf.endFormObject(svgIdPrefix.get()+node.getAttribute("id")):_pdf.restoreGraphicsState()}},svg2pdf=function(element,pdf,options){_pdf=pdf;var k=options.scale||1,xOffset=options.xOffset||0,yOffset=options.yOffset||0;_pdf.saveGraphicsState(),_pdf.setCurrentTransformationMatrix(new _pdf.Matrix(k,0,0,k,xOffset,yOffset));var attributeState=new AttributeState;_pdf.setLineWidth(attributeState.strokeWidth);var fill=attributeState.fill;return _pdf.setFillColor(fill.r,fill.g,fill.b),_pdf.setFont(attributeState.fontFamily),_pdf.setFontSize(attributeState.fontSize),renderNode(element.cloneNode(!0),_pdf.unitMatrix,{},new SvgPrefix(""),!1,attributeState),_pdf.restoreGraphicsState(),_pdf};"function"==typeof define&&define.amd?define(["./rgbcolor","SvgPath"],function(rgbcolor,svgpath){return RGBColor=rgbcolor,SvgPath=svgpath,svg2pdf}):void 0!==module&&module.exports?(RGBColor=require("./rgbcolor.js"),SvgPath=require("SvgPath"),module.exports=svg2pdf):(SvgPath=global.SvgPath,RGBColor=global.RGBColor,global.svg2pdf=svg2pdf,global.svgElementToPdf=svg2pdf)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this)},{"./rgbcolor.js":8,SvgPath:1}]},{},[9])(9)});