"use strict";!function(factory){"object"==typeof module&&module.exports?module.exports=factory:factory(Highcharts)}(function(Highcharts){!function(H){var defaultOptions=H.defaultOptions,doc=H.doc,Chart=H.Chart,addEvent=H.addEvent,removeEvent=H.removeEvent,fireEvent=H.fireEvent,createElement=H.createElement,discardElement=H.discardElement,css=H.css,merge=H.merge,pick=H.pick,each=H.each,objectEach=H.objectEach,extend=H.extend,isTouchDevice=H.isTouchDevice,win=H.win,userAgent=win.navigator.userAgent,symbols=(H.SVGRenderer,H.Renderer.prototype.symbols);/Edge\/|Trident\/|MSIE /.test(userAgent),/firefox/i.test(userAgent);extend(defaultOptions.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),defaultOptions.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},merge(!0,defaultOptions.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),defaultOptions.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},H.post=function(url,data,formAttributes){var form=createElement("form",merge({method:"post",action:url,enctype:"multipart/form-data"},formAttributes),{display:"none"},doc.body);objectEach(data,function(val,name){createElement("input",{type:"hidden",name:name,value:val},null,form)}),form.submit(),discardElement(form)},extend(Chart.prototype,{sanitizeSVG:function(svg,options){if(options&&options.exporting&&options.exporting.allowHTML){var html=svg.match(/<\/svg>(.*?$)/);html&&html[1]&&(html='<foreignObject x="0" y="0" width="'+options.chart.width+'" height="'+options.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+html[1]+"</body></foreignObject>",svg=svg.replace("</svg>",html+"</svg>"))}return svg=svg.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(svg=this.ieSanitizeSVG(svg)),svg},getChartHTML:function(){return this.container.innerHTML},getSVG:function(chartOptions){var chartCopy,sandbox,svg,seriesOptions,sourceWidth,sourceHeight,cssWidth,cssHeight,chart=this,options=merge(chart.options,chartOptions);return sandbox=createElement("div",null,{position:"absolute",top:"-9999em",width:chart.chartWidth+"px",height:chart.chartHeight+"px"},doc.body),cssWidth=chart.renderTo.style.width,cssHeight=chart.renderTo.style.height,sourceWidth=options.exporting.sourceWidth||options.chart.width||/px$/.test(cssWidth)&&parseInt(cssWidth,10)||600,sourceHeight=options.exporting.sourceHeight||options.chart.height||/px$/.test(cssHeight)&&parseInt(cssHeight,10)||400,extend(options.chart,{animation:!1,renderTo:sandbox,forExport:!0,renderer:"SVGRenderer",width:sourceWidth,height:sourceHeight}),options.exporting.enabled=!1,delete options.data,options.series=[],each(chart.series,function(serie){(seriesOptions=merge(serie.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:serie.visible})).isInternal||options.series.push(seriesOptions)}),each(chart.axes,function(axis){axis.userOptions.internalKey||(axis.userOptions.internalKey=H.uniqueKey())}),chartCopy=new H.Chart(options,chart.callback),chartOptions&&each(["xAxis","yAxis","series"],function(coll){var collOptions={};chartOptions[coll]&&(collOptions[coll]=chartOptions[coll],chartCopy.update(collOptions))}),each(chart.axes,function(axis){var axisCopy=H.find(chartCopy.axes,function(copy){return copy.options.internalKey===axis.userOptions.internalKey}),extremes=axis.getExtremes(),userMin=extremes.userMin,userMax=extremes.userMax;!axisCopy||userMin===undefined&&userMax===undefined||axisCopy.setExtremes(userMin,userMax,!0,!1)}),svg=chartCopy.getChartHTML(),svg=chart.sanitizeSVG(svg,options),options=null,chartCopy.destroy(),discardElement(sandbox),svg},getSVGForExport:function(options,chartOptions){var chartExportingOptions=this.options.exporting;return this.getSVG(merge({chart:{borderRadius:0}},chartExportingOptions.chartOptions,chartOptions,{exporting:{sourceWidth:options&&options.sourceWidth||chartExportingOptions.sourceWidth,sourceHeight:options&&options.sourceHeight||chartExportingOptions.sourceHeight}}))},exportChart:function(exportingOptions,chartOptions){var svg=this.getSVGForExport(exportingOptions,chartOptions);exportingOptions=merge(this.options.exporting,exportingOptions),H.post(exportingOptions.url,{filename:exportingOptions.filename||"chart",type:exportingOptions.type,width:exportingOptions.width||0,scale:exportingOptions.scale,svg:svg},exportingOptions.formAttributes)},print:function(){var resetParams,handleMaxWidth,chart=this,container=chart.container,origDisplay=[],origParent=container.parentNode,body=doc.body,childNodes=body.childNodes,printMaxWidth=chart.options.exporting.printMaxWidth;chart.isPrinting||(chart.isPrinting=!0,chart.pointer.reset(null,0),fireEvent(chart,"beforePrint"),(handleMaxWidth=printMaxWidth&&chart.chartWidth>printMaxWidth)&&(resetParams=[chart.options.chart.width,undefined,!1],chart.setSize(printMaxWidth,undefined,!1)),each(childNodes,function(node,i){1===node.nodeType&&(origDisplay[i]=node.style.display,node.style.display="none")}),body.appendChild(container),win.focus(),win.print(),setTimeout(function(){origParent.appendChild(container),each(childNodes,function(node,i){1===node.nodeType&&(node.style.display=origDisplay[i])}),chart.isPrinting=!1,handleMaxWidth&&chart.setSize.apply(chart,resetParams),fireEvent(chart,"afterPrint")},1e3))},contextMenu:function(className,items,x,y,width,height,button){var innerMenu,hide,menuStyle,chart=this,navOptions=chart.options.navigation,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,cacheName="cache-"+className,menu=chart[cacheName],menuPadding=Math.max(width,height);menu||(chart[cacheName]=menu=createElement("div",{className:className},{position:"absolute",zIndex:1e3,padding:menuPadding+"px"},chart.container),innerMenu=createElement("div",{className:"highcharts-menu"},null,menu),css(innerMenu,extend({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},navOptions.menuStyle)),hide=function(){css(menu,{display:"none"}),button&&button.setState(0),chart.openMenu=!1},chart.exportEvents.push(addEvent(menu,"mouseleave",function(){menu.hideTimer=setTimeout(hide,500)}),addEvent(menu,"mouseenter",function(){clearTimeout(menu.hideTimer)}),addEvent(doc,"mouseup",function(e){chart.pointer.inClass(e.target,className)||hide()})),each(items,function(item){var element;("string"==typeof item&&(item=chart.options.exporting.menuItemDefinitions[item]),H.isObject(item,!0))&&(item.separator?element=createElement("hr",null,null,innerMenu):((element=createElement("div",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),hide(),item.onclick&&item.onclick.apply(chart,arguments)},innerHTML:item.text||chart.options.lang[item.textKey]},null,innerMenu)).onmouseover=function(){css(this,navOptions.menuItemHoverStyle)},element.onmouseout=function(){css(this,navOptions.menuItemStyle)},css(element,extend({cursor:"pointer"},navOptions.menuItemStyle))),chart.exportDivElements.push(element))}),chart.exportDivElements.push(innerMenu,menu),chart.exportMenuWidth=menu.offsetWidth,chart.exportMenuHeight=menu.offsetHeight),menuStyle={display:"block"},x+chart.exportMenuWidth>chartWidth?menuStyle.right=chartWidth-x-width-menuPadding+"px":menuStyle.left=x-menuPadding+"px",y+height+chart.exportMenuHeight>chartHeight&&"top"!==button.alignOptions.verticalAlign?menuStyle.bottom=chartHeight-y-menuPadding+"px":menuStyle.top=y+height-menuPadding+"px",css(menu,menuStyle),chart.openMenu=!0},addButton:function(options){var symbol,button,chart=this,renderer=chart.renderer,btnOptions=merge(chart.options.navigation.buttonOptions,options),onclick=btnOptions.onclick,menuItems=btnOptions.menuItems,symbolSize=btnOptions.symbolSize||12;if(chart.btnCount||(chart.btnCount=0),chart.exportDivElements||(chart.exportDivElements=[],chart.exportSVGElements=[]),!1!==btnOptions.enabled){var callback,attr=btnOptions.theme,states=attr.states,hover=states&&states.hover,select=states&&states.select;delete attr.states,onclick?callback=function(e){e.stopPropagation(),onclick.call(chart,e)}:menuItems&&(callback=function(){chart.contextMenu(button.menuClassName,menuItems,button.translateX,button.translateY,button.width,button.height,button),button.setState(2)}),btnOptions.text&&btnOptions.symbol?attr.paddingLeft=pick(attr.paddingLeft,25):btnOptions.text||extend(attr,{width:btnOptions.width,height:btnOptions.height,padding:0}),(button=renderer.button(btnOptions.text,0,0,callback,attr,hover,select).addClass(options.className).attr({"stroke-linecap":"round",title:chart.options.lang[btnOptions._titleKey],zIndex:3})).menuClassName=options.menuClassName||"highcharts-menu-"+chart.btnCount++,btnOptions.symbol&&(symbol=renderer.symbol(btnOptions.symbol,btnOptions.symbolX-symbolSize/2,btnOptions.symbolY-symbolSize/2,symbolSize,symbolSize).addClass("highcharts-button-symbol").attr({zIndex:1}).add(button)).attr({stroke:btnOptions.symbolStroke,fill:btnOptions.symbolFill,"stroke-width":btnOptions.symbolStrokeWidth||1}),button.add().align(extend(btnOptions,{width:button.width,x:pick(btnOptions.x,chart.buttonOffset)}),!0,"spacingBox"),chart.buttonOffset+=(button.width+btnOptions.buttonSpacing)*("right"===btnOptions.align?-1:1),chart.exportSVGElements.push(button,symbol)}},destroyExport:function(e){var cacheName,chart=e?e.target:this,exportSVGElements=chart.exportSVGElements,exportDivElements=chart.exportDivElements,exportEvents=chart.exportEvents;exportSVGElements&&(each(exportSVGElements,function(elem,i){elem&&(elem.onclick=elem.ontouchstart=null,cacheName="cache-"+elem.menuClassName,chart[cacheName]&&delete chart[cacheName],chart.exportSVGElements[i]=elem.destroy())}),exportSVGElements.length=0),exportDivElements&&(each(exportDivElements,function(elem,i){clearTimeout(elem.hideTimer),removeEvent(elem,"mouseleave"),chart.exportDivElements[i]=elem.onmouseout=elem.onmouseover=elem.ontouchstart=elem.onclick=null,discardElement(elem)}),exportDivElements.length=0),exportEvents&&(each(exportEvents,function(unbind){unbind()}),exportEvents.length=0)}}),symbols.menu=function(x,y,width,height){return["M",x,y+2.5,"L",x+width,y+2.5,"M",x,y+height/2+.5,"L",x+width,y+height/2+.5,"M",x,y+height-1.5,"L",x+width,y+height-1.5]},Chart.prototype.renderExporting=function(){var chart=this,exportingOptions=chart.options.exporting,buttons=exportingOptions.buttons,isDirty=chart.isDirtyExporting||!chart.exportSVGElements;chart.buttonOffset=0,chart.isDirtyExporting&&chart.destroyExport(),isDirty&&!1!==exportingOptions.enabled&&(chart.exportEvents=[],objectEach(buttons,function(button){chart.addButton(button)}),chart.isDirtyExporting=!1),addEvent(chart,"destroy",chart.destroyExport)},Chart.prototype.callbacks.push(function(chart){function update(prop,options,redraw){chart.isDirtyExporting=!0,merge(!0,chart.options[prop],options),pick(redraw,!0)&&chart.redraw()}chart.renderExporting(),addEvent(chart,"redraw",chart.renderExporting),each(["exporting","navigation"],function(prop){chart[prop]={update:function(options,redraw){update(prop,options,redraw)}}})})}(Highcharts)});