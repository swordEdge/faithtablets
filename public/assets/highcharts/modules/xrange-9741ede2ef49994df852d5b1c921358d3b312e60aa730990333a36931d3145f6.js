"use strict";!function(factory){"object"==typeof module&&module.exports?module.exports=factory:factory(Highcharts)}(function(Highcharts){var H,defined,color,columnType,each,isNumber,isObject,merge,pick,seriesType,seriesTypes,wrap,Axis,Point,Series;defined=(H=Highcharts).defined,color=H.Color,columnType=H.seriesTypes.column,each=H.each,isNumber=H.isNumber,isObject=H.isObject,merge=H.merge,pick=H.pick,seriesType=H.seriesType,seriesTypes=H.seriesTypes,wrap=H.wrap,Axis=H.Axis,Point=H.Point,Series=H.Series,seriesType("xrange","column",{colorByPoint:!0,dataLabels:{verticalAlign:"middle",inside:!0,formatter:function(){var amount=this.point.partialFill;return isObject(amount)&&(amount=amount.amount),defined(amount)||(amount=0),100*amount+"%"}},tooltip:{headerFormat:'<span style="font-size: 0.85em">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0},{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:seriesTypes.line.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,getColumnMetrics:function(){function swapAxes(){each(chart.series,function(s){var xAxis=s.xAxis;s.xAxis=s.yAxis,s.yAxis=xAxis})}var metrics,chart=this.chart;return swapAxes(),metrics=columnType.prototype.getColumnMetrics.call(this),swapAxes(),metrics},cropData:function(xData,yData,min,max){var crop=Series.prototype.cropData.call(this,this.x2Data,yData,min,max);return crop.xData=xData.slice(crop.start,crop.end),crop},translatePoint:function(point){var widthDifference,shapeArgs,partialFill,dlLeft,dlRight,dlWidth,series=this,xAxis=series.xAxis,metrics=series.columnMetrics,minPointLength=series.options.minPointLength||0,plotX=point.plotX,posX=pick(point.x2,point.x+(point.len||0)),plotX2=xAxis.translate(posX,0,0,0,1),length=plotX2-plotX,inverted=this.chart.inverted,crisper=pick(series.options.borderWidth,1)%2/2;minPointLength&&((widthDifference=minPointLength-length)<0&&(widthDifference=0),plotX-=widthDifference/2,plotX2+=widthDifference/2),plotX=Math.max(plotX,-10),plotX2=Math.min(Math.max(plotX2,-10),xAxis.len+10),point.shapeArgs={x:Math.floor(Math.min(plotX,plotX2))+crisper,y:Math.floor(point.plotY+metrics.offset)+crisper,width:Math.round(Math.abs(plotX2-plotX)),height:Math.round(metrics.width),r:series.options.borderRadius},dlRight=(dlLeft=point.shapeArgs.x)+point.shapeArgs.width,dlLeft<0||dlRight>xAxis.len?(dlLeft=Math.min(xAxis.len,Math.max(0,dlLeft)),dlWidth=(dlRight=Math.max(0,Math.min(dlRight,xAxis.len)))-dlLeft,point.dlBox=merge(point.shapeArgs,{x:dlLeft,width:dlRight-dlLeft,centerX:dlWidth?dlWidth/2:null})):point.dlBox=null,point.tooltipPos[0]+=inverted?0:length/2,point.tooltipPos[1]-=inverted?length/2:metrics.width/2,(partialFill=point.partialFill)&&(isObject(partialFill)&&(partialFill=partialFill.amount),isNumber(partialFill)||(partialFill=0),shapeArgs=point.shapeArgs,point.partShapeArgs={x:shapeArgs.x,y:shapeArgs.y,width:shapeArgs.width,height:shapeArgs.height,r:series.options.borderRadius},point.clipRectArgs={x:shapeArgs.x,y:shapeArgs.y,width:Math.round(shapeArgs.width*partialFill),height:shapeArgs.height})},translate:function(){columnType.prototype.translate.apply(this,arguments),each(this.points,function(point){this.translatePoint(point)},this)},drawPoint:function(point,verb){var fill,series=this,seriesOpts=series.options,renderer=series.chart.renderer,graphic=point.graphic,type=point.shapeType,shapeArgs=point.shapeArgs,partShapeArgs=point.partShapeArgs,clipRectArgs=point.clipRectArgs,pfOptions=point.partialFill,state=point.selected&&"select",cutOff=seriesOpts.stacking&&!seriesOpts.borderRadius;point.isNull?graphic&&(point.graphic=graphic.destroy()):(graphic?point.graphicOriginal[verb](merge(shapeArgs)):(point.graphic=graphic=renderer.g("point").addClass(point.getClassName()).add(point.group||series.group),point.graphicOriginal=renderer[type](shapeArgs).addClass(point.getClassName()).addClass("highcharts-partfill-original").add(graphic)),partShapeArgs&&(point.graphicOverlay?(point.graphicOverlay[verb](merge(partShapeArgs)),point.clipRect.animate(merge(clipRectArgs))):(point.clipRect=renderer.clipRect(clipRectArgs.x,clipRectArgs.y,clipRectArgs.width,clipRectArgs.height),point.graphicOverlay=renderer[type](partShapeArgs).addClass("highcharts-partfill-overlay").add(graphic).clip(point.clipRect))),point.graphicOriginal.attr(series.pointAttribs(point,state)).shadow(seriesOpts.shadow,null,cutOff),partShapeArgs&&(isObject(pfOptions)||(pfOptions={}),isObject(seriesOpts.partialFill)&&(pfOptions=merge(pfOptions,seriesOpts.partialFill)),fill=pfOptions.fill||color(point.color||series.color).brighten(-.3).get(),point.graphicOverlay.attr(series.pointAttribs(point,state)).attr({fill:fill}).shadow(seriesOpts.shadow,null,cutOff)))},drawPoints:function(){var series=this,chart=this.chart,animationLimit=series.options.animationLimit||250,verb=chart.pointCount<animationLimit?"animate":"attr";each(series.points,function(point){series.drawPoint(point,verb)})}},{init:function(){Point.prototype.init.apply(this,arguments);var colors,series=this.series,colorCount=series.chart.options.chart.colorCount;return this.y||(this.y=0),series.options.colorByPoint&&(colorCount=(colors=series.options.colors||series.chart.options.colors).length,!this.options.color&&colors[this.y%colorCount]&&(this.color=colors[this.y%colorCount])),this.colorIndex=this.y%colorCount,this},getLabelConfig:function(){var point=this,cfg=Point.prototype.getLabelConfig.call(point),yCats=point.series.yAxis.categories;return cfg.x2=point.x2,cfg.yCategory=point.yCategory=yCats&&yCats[point.y],cfg},tooltipDateKeys:["x","x2"],isValid:function(){return"number"==typeof this.x&&"number"==typeof this.x2}}),wrap(Axis.prototype,"getSeriesExtremes",function(proceed){var dataMax,modMax,axis=this,axisSeries=axis.series;proceed.call(axis),axis.isXAxis&&(dataMax=pick(axis.dataMax,-Number.MAX_VALUE),each(axisSeries,function(series){series.x2Data&&each(series.x2Data,function(val){dataMax<val&&(dataMax=val,modMax=!0)})}),modMax&&(axis.dataMax=dataMax))})});