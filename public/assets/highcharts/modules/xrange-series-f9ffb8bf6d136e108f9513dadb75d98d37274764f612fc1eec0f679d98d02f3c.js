"use strict";!function(factory){"object"==typeof module&&module.exports?module.exports=factory:factory(Highcharts)}(function(Highcharts){var H,defaultPlotOptions,color,columnType,each,extendClass,isNumber,isObject,merge,pick,seriesTypes,wrap,Axis,Point,Series,pointFormat,xrange;defaultPlotOptions=(H=Highcharts).getOptions().plotOptions,color=H.Color,columnType=H.seriesTypes.column,each=H.each,extendClass=H.extendClass,isNumber=H.isNumber,isObject=H.isObject,merge=H.merge,pick=H.pick,seriesTypes=H.seriesTypes,wrap=H.wrap,Axis=H.Axis,Point=H.Point,Series=H.Series,pointFormat='<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.yCategory}</b><br/>',xrange="xrange",defaultPlotOptions.xrange=merge(defaultPlotOptions.column,{tooltip:{pointFormat:pointFormat}}),seriesTypes.xrange=extendClass(columnType,{pointClass:extendClass(Point,{getLabelConfig:function(){var cfg=Point.prototype.getLabelConfig.call(this);return cfg.x2=this.x2,cfg.yCategory=this.yCategory=this.series.yAxis.categories&&this.series.yAxis.categories[this.y],cfg}}),type:xrange,forceDL:!0,parallelArrays:["x","x2","y"],requireSorting:!1,animate:seriesTypes.line.prototype.animate,getColumnMetrics:function(){function swapAxes(){each(chart.series,function(s){var xAxis=s.xAxis;s.xAxis=s.yAxis,s.yAxis=xAxis})}var metrics,chart=this.chart;return swapAxes(),this.yAxis.closestPointRange=1,metrics=columnType.prototype.getColumnMetrics.call(this),swapAxes(),metrics},cropData:function(xData,yData,min,max){var crop=Series.prototype.cropData.call(this,this.x2Data,yData,min,max);return crop.xData=xData.slice(crop.start,crop.end),crop},translate:function(){columnType.prototype.translate.apply(this,arguments);var series=this,xAxis=series.xAxis,metrics=series.columnMetrics,minPointLength=series.options.minPointLength||0;each(series.points,function(point){var widthDifference,shapeArgs,partialFill,plotX=point.plotX,posX=pick(point.x2,point.x+(point.len||0)),plotX2=xAxis.toPixels(posX,!0),width=plotX2-plotX;minPointLength&&((widthDifference=minPointLength-width)<0&&(widthDifference=0),plotX-=widthDifference/2,plotX2+=widthDifference/2),plotX=Math.max(plotX,-10),(plotX2=Math.min(Math.max(plotX2,-10),xAxis.len+10))<plotX&&(plotX2=plotX),point.shapeArgs={x:plotX,y:point.plotY+metrics.offset,width:plotX2-plotX,height:metrics.width},point.tooltipPos[0]+=width/2,point.tooltipPos[1]-=metrics.width/2,(partialFill=point.partialFill)&&(isObject(partialFill)&&(partialFill=partialFill.amount),isNumber(partialFill)||(partialFill=0),shapeArgs=point.shapeArgs,point.partShapeArgs={x:shapeArgs.x,y:shapeArgs.y+1,width:shapeArgs.width*partialFill,height:shapeArgs.height-2})})},drawPoints:function(){var series=this,chart=this.chart,options=series.options,renderer=chart.renderer,animationLimit=options.animationLimit||250,verb=chart.pointCount<animationLimit?"animate":"attr";each(series.points,function(point){var fill,plotY=point.plotY,graphic=point.graphic,type=point.shapeType,shapeArgs=point.shapeArgs,partShapeArgs=point.partShapeArgs,seriesOpts=series.options,pfOptions=point.partialFill,state=point.selected&&"select",cutOff=options.stacking&&!options.borderRadius;isNumber(plotY)&&null!==point.y?(graphic?(point.graphicOriginal[verb](merge(shapeArgs)),partShapeArgs&&point.graphicOverlay[verb](merge(partShapeArgs))):(point.graphic=graphic=renderer.g("point").attr({"class":point.getClassName()}).add(point.group||series.group),point.graphicOriginal=renderer[type](shapeArgs).addClass("highcharts-partfill-original").add(graphic),partShapeArgs&&(point.graphicOverlay=renderer[type](partShapeArgs).addClass("highcharts-partfill-overlay").add(graphic))),point.graphicOriginal.attr(series.pointAttribs(point,state)).shadow(options.shadow,null,cutOff),partShapeArgs&&(isObject(pfOptions)||(pfOptions={}),isObject(seriesOpts.partialFill)&&(pfOptions=merge(pfOptions,seriesOpts.partialFill)),fill=pfOptions.fill||color(series.color).brighten(-.3).get("rgb"),point.graphicOverlay.attr(series.pointAttribs(point,state)).attr("fill",fill).attr("stroke-width",0).shadow(options.shadow,null,cutOff))):graphic&&(point.graphic=graphic.destroy())})}}),wrap(Axis.prototype,"getSeriesExtremes",function(proceed){var dataMax,modMax,axis=this,series=axis.series;proceed.call(this),axis.isXAxis&&series.type===xrange&&(dataMax=pick(axis.dataMax,Number.MIN_VALUE),each(this.series,function(series){each(series.x2Data||[],function(val){dataMax<val&&(dataMax=val,modMax=!0)})}),modMax&&(axis.dataMax=dataMax))})});